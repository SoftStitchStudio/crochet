<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Products</title>

  <!-- Base layout -->
  <link rel="stylesheet" href="base.css">
  <!-- Products page styles -->
  <link rel="stylesheet" href="products.css">
</head>

<body>

  <!-- HEADER -->
  <header class="header">
    <h1>Soft Stitch Studio</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="categories.html">Shop</a>
      <a href="cart.html">
        Cart üõí <span id="cartCount">0</span>
      </a>
    </nav>
  </header>

  <!-- SCROLLABLE CONTENT -->
  <main>

    <h1 class="page-title">Products</h1>

    <div id="productList" class="product-grid"></div>

  </main>

  <!-- FOOTER -->
  <footer class="footer">
    ¬© 2026 Handmade with üß∂ & ‚ù§Ô∏è by Ruchi Chouhan
  </footer>

  <!-- IMPORTANT: SCRIPT ORDER MATTERS -->

  <!-- Cart functions MUST load first -->
  <script src="cart.js"></script>

  <!-- Products data -->
  <script src="products.js"></script>

  <!-- Page logic -->
  <script>
    const params = new URLSearchParams(window.location.search);
    const category = params.get("category");

    const list = document.getElementById("productList");

    products
      .filter(p => p.category === category)
      .forEach(p => {
        list.innerHTML += `
          <div class="product-card">
            <div class="product-image">
              <img src="${p.image}" alt="${p.name}">
            </div>

            <div class="product-info">
              <h3>${p.name}</h3>
              <p class="price">‚Çπ ${p.price}</p>
            </div>

            <div class="product-actions">
              <a class="view-link" href="product.html?id=${p.id}">
                View
              </a>
              <button onclick='addToCart(${JSON.stringify(p)})'>
                Add to Cart
              </button>
            </div>
          </div>
        `;
      });

    // Update cart count on page load
    updateCartCount();
  </script>

</body>
</html>
